CXX_STD = CXX14

## Pull in the include-paths for RcppParallel
PKG_CPPFLAGS = \
  $(shell "${R_HOME}/bin/Rscript" -e "cat(RcppParallel::CxxFlags())")

## Link flags:
##   1) RcppParallel’s bridge + TBB + TBBmalloc
##   2) explicit rpath into RcppParallel’s lib folder (where both dylibs live)
##   3) your usual BLAS/LAPACK/FLIBS
PKG_LIBS = \
  $(shell "${R_HOME}/bin/Rscript" -e "cat(RcppParallel::LdFlags())") \
  -Wl,-rpath,$(shell "${R_HOME}/bin/Rscript" -e "cat(system.file('lib',package='RcppParallel'))") \
  $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)
